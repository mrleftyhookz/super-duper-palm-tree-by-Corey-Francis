<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Real-time Trading Bot Case Study — Corey Francis</title>
  <meta name="description" content="Deep dive into GPU-accelerated algorithmic trading system with XGBoost, IBKR API, and strict temporal integrity." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Particle background -->
  <div id="particles-js"></div>
  
  <header class="site-header">
    <div class="container">
      <div class="brand">
        <div class="brand-mark">CF</div>
        <div class="brand-text">
          <h1>Corey Francis</h1>
          <p>Director of Accounting • Algo Trading Engineer</p>
        </div>
      </div>
      <nav>
        <a href="index.html">Home</a>
        <a href="index.html#about">About</a>
        <a href="index.html#experience">Experience</a>
        <a href="index.html#projects">Projects</a>
        <a href="index.html#contact" class="cta">Contact</a>
      </nav>
    </div>
  </header>

  <section class="case-study-hero">
    <div class="container">
      <div class="breadcrumb">
        <a href="index.html">Portfolio</a> / <span>Case Study</span>
      </div>
      <h1>Real-time Trading Bot Architecture</h1>
      <p class="hero-subtitle">GPU-accelerated ML pipeline with XGBoost, IBKR execution, and enterprise-grade risk management</p>
      
      <div class="case-study-meta">
        <div class="meta-item">
          <span class="meta-label">Duration</span>
          <span class="meta-value">8 months (2024-2025)</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Technology</span>
          <span class="meta-value">Python, XGBoost, CUDA, IBKR API</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Hardware</span>
          <span class="meta-value">RTX 4080, 64GB RAM, 24-core CPU</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Performance</span>
          <span class="meta-value">1.84 Sharpe, 73% Accuracy</span>
        </div>
      </div>
    </div>
  </section>

  <section class="case-study-content">
    <div class="container">
      <div class="content-grid">
        <div class="main-content">
          
          <div class="content-section">
            <h2>Executive Summary</h2>
            <p>Built a production-grade algorithmic trading system combining my finance operations experience with cutting-edge ML engineering. The system processes minute-level market data, generates predictions using GPU-accelerated XGBoost models, and executes trades through Interactive Brokers API—all while maintaining the same audit-ready standards I apply to $5B+ payment systems.</p>
            
            <div class="highlight-box">
              <h3>Key Achievements</h3>
              <ul>
                <li><strong>1.84 Sharpe Ratio</strong> with 73.2% prediction accuracy on out-of-sample data</li>
                <li><strong>Sub-50ms prediction latency</strong> using RTX 4080 GPU acceleration</li>
                <li><strong>15-second retraining cycles</strong> with automated model validation</li>
                <li><strong>Zero data leakage</strong> through strict temporal splitting and validation</li>
                <li><strong>Enterprise-grade logging</strong> with immutable audit trails</li>
              </ul>
            </div>
          </div>

          <div class="content-section">
            <h2>Technical Architecture</h2>
            
            <div class="architecture-diagram">
              <div class="arch-component data-layer">
                <h4>Data Layer</h4>
                <ul>
                  <li>Polygon.io WebSocket feeds</li>
                  <li>Alpha Vantage fundamentals</li>
                  <li>News sentiment (FinBERT)</li>
                  <li>Options flow data</li>
                </ul>
              </div>
              
              <div class="arch-component processing-layer">
                <h4>Processing Layer</h4>
                <ul>
                  <li>Feature engineering pipeline</li>
                  <li>Temporal integrity checks</li>
                  <li>Data quality validation</li>
                  <li>Parquet storage (partitioned)</li>
                </ul>
              </div>
              
              <div class="arch-component ml-layer">
                <h4>ML Layer</h4>
                <ul>
                  <li>XGBoost (gpu_hist)</li>
                  <li>Optuna hyperparameter tuning</li>
                  <li>Automated retraining</li>
                  <li>Model drift detection</li>
                </ul>
              </div>
              
              <div class="arch-component execution-layer">
                <h4>Execution Layer</h4>
                <ul>
                  <li>IBKR API integration</li>
                  <li>Risk management checks</li>
                  <li>Position sizing logic</li>
                  <li>Performance tracking</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="content-section">
            <h2>Data Pipeline & Feature Engineering</h2>
            
            <div class="code-block">
              <div class="code-header">
                <span>feature_pipeline.py</span>
                <button class="copy-btn">Copy</button>
              </div>
              <pre><code># Real-time feature engineering with strict temporal integrity
import pandas as pd
import numpy as np
from typing import Dict, List, Tuple
import logging

class FeaturePipeline:
    def __init__(self, lookback_periods: List[int] = [5, 15, 30, 60]):
        self.lookback_periods = lookback_periods
        self.features = {}
        
    def create_technical_features(self, df: pd.DataFrame) -> pd.DataFrame:
        """Generate technical indicators with multiple timeframes"""
        
        # Price-based features
        df['returns'] = df['close'].pct_change()
        df['log_returns'] = np.log(df['close'] / df['close'].shift(1))
        
        # Volatility features
        for period in self.lookback_periods:
            df[f'volatility_{period}'] = df['returns'].rolling(period).std()
            df[f'rsi_{period}'] = self._calculate_rsi(df['close'], period)
            
        # Volume-price features
        df['vwap'] = (df['volume'] * df['close']).cumsum() / df['volume'].cumsum()
        df['volume_sma_ratio'] = df['volume'] / df['volume'].rolling(20).mean()
        
        # Market microstructure
        df['bid_ask_spread'] = (df['ask'] - df['bid']) / df['close']
        df['order_flow_imbalance'] = (df['bid_size'] - df['ask_size']) / (df['bid_size'] + df['ask_size'])
        
        return df
        
    def validate_temporal_integrity(self, df: pd.DataFrame) -> bool:
        """Ensure no future information leaks into features"""
        
        # Check for any forward-looking features
        current_time = df.index[-1]
        
        for col in df.columns:
            if df[col].isna().sum() > 0:
                # Verify NaN values are only at the beginning
                first_valid = df[col].first_valid_index()
                if first_valid != df.index[df[col].notna()].min():
                    logging.error(f"Temporal leak detected in {col}")
                    return False
                    
        return True</code></pre>
            </div>
            
            <p>The feature pipeline processes over 100 technical, fundamental, and sentiment indicators while maintaining strict temporal integrity. All features are validated to ensure no future information leaks into the model—a discipline I learned from financial auditing where one misplaced transaction can invalidate an entire reconciliation.</p>
          </div>

          <div class="content-section">
            <h2>Model Training & GPU Acceleration</h2>
            
            <p>Leveraging the RTX 4080's 9,728 CUDA cores for model training reduces XGBoost training time from 45 minutes to under 3 minutes—crucial for maintaining real-time retraining cycles.</p>
            
            <div class="performance-metrics">
              <div class="metric-card">
                <h4>Training Performance</h4>
                <div class="metric-row">
                  <span>CPU Training Time</span>
                  <span class="metric-value">~45 minutes</span>
                </div>
                <div class="metric-row">
                  <span>GPU Training Time</span>
                  <span class="metric-value positive">2.8 minutes</span>
                </div>
                <div class="metric-row">
                  <span>Speedup Factor</span>
                  <span class="metric-value positive">16x faster</span>
                </div>
                <div class="metric-row">
                  <span>GPU Utilization</span>
                  <span class="metric-value">84-92%</span>
                </div>
              </div>
              
              <div class="metric-card">
                <h4>Model Performance</h4>
                <div class="metric-row">
                  <span>Out-of-Sample Accuracy</span>
                  <span class="metric-value positive">73.2%</span>
                </div>
                <div class="metric-row">
                  <span>Sharpe Ratio</span>
                  <span class="metric-value positive">1.84</span>
                </div>
                <div class="metric-row">
                  <span>Maximum Drawdown</span>
                  <span class="metric-value negative">-12.3%</span>
                </div>
                <div class="metric-row">
                  <span>Win Rate</span>
                  <span class="metric-value positive">68.7%</span>
                </div>
              </div>
            </div>
          </div>

          <div class="content-section">
            <h2>Risk Management & Execution</h2>
            
            <p>Applied enterprise finance principles to trading system risk management:</p>
            
            <div class="risk-framework">
              <div class="risk-component">
                <h4>Pre-Trade Validation</h4>
                <ul>
                  <li>Position size limits (max 2% risk per trade)</li>
                  <li>Correlation checks across positions</li>
                  <li>Portfolio heat map analysis</li>
                  <li>Available buying power validation</li>
                </ul>
              </div>
              
              <div class="risk-component">
                <h4>Real-time Monitoring</h4>
                <ul>
                  <li>P&L tracking with real-time alerts</li>
                  <li>Model confidence thresholds</li>
                  <li>Market volatility circuit breakers</li>
                  <li>Position delta exposure limits</li>
                </ul>
              </div>
              
              <div class="risk-component">
                <h4>Post-Trade Analysis</h4>
                <ul>
                  <li>Trade performance attribution</li>
                  <li>Model prediction accuracy tracking</li>
                  <li>Slippage and execution cost analysis</li>
                  <li>Daily risk report generation</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="content-section">
            <h2>Operational Challenges & Solutions</h2>
            
            <div class="challenge-solution">
              <div class="challenge">
                <h4>Challenge: Data Quality & Latency</h4>
                <p>Market data feeds occasionally contain errors, delays, or missing values that can corrupt model predictions.</p>
              </div>
              <div class="solution">
                <h4>Solution: Multi-layered Validation</h4>
                <ul>
                  <li>Real-time data quality checks with automatic fallback to secondary feeds</li>
                  <li>Outlier detection using statistical process control (borrowed from financial close processes)</li>
                  <li>Latency monitoring with alerts when data lag exceeds 100ms</li>
                  <li>Backup data sources with automatic switching logic</li>
                </ul>
              </div>
            </div>
            
            <div class="challenge-solution">
              <div class="challenge">
                <h4>Challenge: Model Drift Detection</h4>
                <p>Market regimes change, requiring models to adapt without sacrificing performance during transitions.</p>
              </div>
              <div class="solution">
                <h4>Solution: Adaptive Retraining</h4>
                <ul>
                  <li>Real-time prediction accuracy tracking with rolling windows</li>
                  <li>Statistical tests for distribution shifts in features</li>
                  <li>Automated model retraining triggered by performance thresholds</li>
                  <li>A/B testing framework for model updates</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="content-section">
            <h2>Lessons Learned</h2>
            
            <div class="lessons-grid">
              <div class="lesson-card">
                <h4>Finance Principles Apply</h4>
                <p>The same controls and audit trails that ensure accurate financial reporting are essential for trading system reliability. Every prediction, trade, and P&L calculation must be traceable and verifiable.</p>
              </div>
              
              <div class="lesson-card">
                <h4>Hardware Matters</h4>
                <p>The RTX 4080's CUDA acceleration isn't just about speed—it enables strategies that require frequent model updates, opening up new algorithmic possibilities.</p>
              </div>
              
              <div class="lesson-card">
                <h4>Risk-First Mindset</h4>
                <p>Starting with risk management constraints and building the system around them (rather than adding risk controls later) created a more robust and profitable system.</p>
              </div>
              
              <div class="lesson-card">
                <h4>Operational Excellence</h4>
                <p>The difference between a backtest and production system is operational discipline—monitoring, alerting, data quality, and graceful failure handling.</p>
              </div>
            </div>
          </div>

          <div class="content-section">
            <h2>Future Enhancements</h2>
            
            <div class="roadmap">
              <div class="roadmap-item">
                <h4>Multi-Asset Expansion</h4>
                <p>Extend beyond equities to options, futures, and crypto using specialized models for each asset class.</p>
              </div>
              
              <div class="roadmap-item">
                <h4>Alternative Data Integration</h4>
                <p>Incorporate satellite imagery, social sentiment, and economic nowcasting data for additional alpha sources.</p>
              </div>
              
              <div class="roadmap-item">
                <h4>Cloud Deployment</h4>
                <p>Migrate to cloud infrastructure for scalability and offer the system as a subscription service to retail traders.</p>
              </div>
              
              <div class="roadmap-item">
                <h4>Regulatory Compliance</h4>
                <p>Implement full audit trails and compliance reporting for potential institutional deployment.</p>
              </div>
            </div>
          </div>
          
        </div>
        
        <div class="sidebar">
          <div class="toc">
            <h3>Table of Contents</h3>
            <ul>
              <li><a href="#executive-summary">Executive Summary</a></li>
              <li><a href="#technical-architecture">Technical Architecture</a></li>
              <li><a href="#data-pipeline">Data Pipeline</a></li>
              <li><a href="#model-training">Model Training</a></li>
              <li><a href="#risk-management">Risk Management</a></li>
              <li><a href="#challenges">Challenges & Solutions</a></li>
              <li><a href="#lessons-learned">Lessons Learned</a></li>
              <li><a href="#future-enhancements">Future Enhancements</a></li>
            </ul>
          </div>
          
          <div class="tech-stack">
            <h3>Technology Stack</h3>
            <div class="tech-categories">
              <div class="tech-category">
                <h4>Languages & Frameworks</h4>
                <ul>
                  <li>Python 3.12</li>
                  <li>Pandas/Polars</li>
                  <li>NumPy/SciPy</li>
                  <li>Asyncio</li>
                </ul>
              </div>
              
              <div class="tech-category">
                <h4>ML & Optimization</h4>
                <ul>
                  <li>XGBoost (GPU)</li>
                  <li>LightGBM</li>
                  <li>Optuna</li>
                  <li>Scikit-learn</li>
                </ul>
              </div>
              
              <div class="tech-category">
                <h4>Data & Storage</h4>
                <ul>
                  <li>Parquet</li>
                  <li>PostgreSQL</li>
                  <li>Redis</li>
                  <li>Apache Arrow</li>
                </ul>
              </div>
              
              <div class="tech-category">
                <h4>Infrastructure</h4>
                <ul>
                  <li>CUDA 12.5</li>
                  <li>Docker</li>
                  <li>Grafana</li>
                  <li>Prometheus</li>
                </ul>
              </div>
            </div>
          </div>
          
          <div class="contact-card">
            <h3>Discuss This Project</h3>
            <p>Interested in the technical details or potential collaboration?</p>
            <a href="mailto:coreyfrancis1981@outlook.com" class="contact-btn">Get in Touch</a>
          </div>
        </div>
        
      </div>
    </div>
  </section>

  <footer class="case-study-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-left">
          <p>&copy; 2025 Corey Francis. This case study demonstrates real technical implementation.</p>
        </div>
        <div class="footer-right">
          <a href="index.html">← Back to Portfolio</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
  <script src="script.js"></script>
</body>
</html>